<div class="container">
  <div class="header">
    <h1>Hebrew Text Sectioning Tool</h1>
    <div class="shortcuts">
      <div class="shortcut"><kbd>Enter</kbd> Split into child</div>
      <div class="shortcut"><kbd>Tab</kbd> Split into sibling</div>
      <div class="shortcut"><kbd>Shift+Enter</kbd> Merge with parent</div>
      <div class="shortcut"><kbd>Shift+Tab</kbd> Merge with previous sibling</div>
    </div>
  </div>

  <div class="main-grid">
    <!-- Left Panel: Recursive Text Inputs -->
    <div class="left-panel">
      <h2>Text Sections</h2>
      <div class="instructions">
        Place cursor where you want to split. Text from cursor to end will move to new section.
      </div>

      <div class="nodes-container">
        <app-text-node
          *ngFor="let node of rootNodes()"
          [node]="node"
          [parent]="null"
          [siblings]="rootNodes()"
          [level]="0"
          (keydown)="onTextareaKeydown($event)"
          (textChange)="onTextChange($event)"
          (labelChange)="onLabelChange($event)"
          (deleteNode)="onDeleteNode($event)"
          (startEditLabel)="onStartEditLabel($event)"
          (finishEditLabel)="onFinishEditLabel($event)"
        />
      </div>
    </div>

    <!-- Right Panel: XML Output -->
    <div class="right-panel">
      <app-xml-output
        [xmlContent]="xmlOutput()"
        (copyClicked)="copyXML()"
        (downloadClicked)="downloadXML()"
        (clearAllClicked)="clearAll()"
      />
    </div>
  </div>
</div>
